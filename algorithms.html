<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MANGO: Available Algorithms</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('algorithms.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Available Algorithms </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md5"></a>
Overview</h1>
<p>MANGO provides interfaces to a wide variety of optimization algorithms, including both local and global algorithms, and derivative-free and derivative-based algorithms, for both general and least-squares minimization. (For derivative-based algorithms, MANGO uses finite difference derivatives.) Most of the algorithms are provided via interfaces to outside software packages (GSL, PETSc, NLOPT, and HOPSPACK). MANGO can also provide its own optimization algorithms. Presently there is one such native algorithm, <code>mango_levenberg_marquardt</code>.</p>
<p>The available algorithms are</p>
<p><code>mango_levenberg_marquardt</code>,<br  />
 <code>mango_imfil</code>,<br  />
 <code>petsc_nm</code>,<br  />
 <code>petsc_pounders</code>,<br  />
 <code>petsc_brgn</code>,<br  />
 <code>nlopt_gn_direct</code>,<br  />
 <code>nlopt_gn_direct_l</code>,<br  />
 <code>nlopt_gn_direct_l_rand</code>,<br  />
 <code>nlopt_gn_direct_noscal</code>,<br  />
 <code>nlopt_gn_direct_l_noscal</code>,<br  />
 <code>nlopt_gn_direct_l_rand_noscal</code>,<br  />
 <code>nlopt_gn_orig_direct</code>,<br  />
 <code>nlopt_gn_orig_direct_l</code>,<br  />
 <code>nlopt_gn_crs2_lm</code>,<br  />
 <code>nlopt_ln_cobyla</code>,<br  />
 <code>nlopt_ln_bobyqa</code>,<br  />
 <code>nlopt_ln_praxis</code>,<br  />
 <code>nlopt_ln_neldermead</code>,<br  />
 <code>nlopt_ln_sbplx</code>,<br  />
 <code>nlopt_ld_mma</code>,<br  />
 <code>nlopt_ld_ccsaq</code>,<br  />
 <code>nlopt_ld_slsqp</code>,<br  />
 <code>nlopt_ld_lbfgs</code>,<br  />
 <code>nlopt_ld_tnewton_precond_restart</code>,<br  />
 <code>nlopt_ld_tnewton_precond</code>,<br  />
 <code>nlopt_ld_tnewton_restart</code>,<br  />
 <code>nlopt_ld_tnewton</code>,<br  />
 <code>nlopt_ld_var1</code>,<br  />
 <code>nlopt_ld_var2</code>,<br  />
 <code>hopspack</code>,<br  />
 <code>gsl_lm</code>,<br  />
 <code>gsl_dogleg</code>,<br  />
 <code>gsl_ddogleg</code>,<br  />
 <code>gsl_subspace2d</code>,<br  />
 <code>gsl_conjugate_fr</code>,<br  />
 <code>gsl_conjugate_pr</code>,<br  />
 <code>gsl_bfgs</code>,<br  />
 <code>gsl_nm</code></p>
<p>This same list is enumerated in <a class="el" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8ed" title="A list of the algorithms that MANGO can potentially use.">mango::algorithm_type</a>. You can also find the algorithm list <a href="algorithms_8dat_source.html">in the table here</a>, which also shows properties of each algorithm such as whether bound constraints are supported or required, whether (finite-difference) derivatives are used, etc.</p>
<p>Each algorithm can be identified either by an integer index or by a string, identical to the name of the integer index but lowercase. For instance, PETSc's POUNDERS algorithm can be identified either with the integer constant <a class="el" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8eda96e5ff1d0d9dcdbc8e1868243810106a">mango::PETSC_POUNDERS</a> or by the string <code>"petsc_pounders"</code>. The string always begins with the name of the software package in which the algorithm is implemented: <code>gsl</code>, <code>nlopt</code>, <code>petsc</code>, <code>hopspack</code>, or <code>mango</code> for the case of algorithms implemented directly in MANGO. For packages that support multiple algorithms (all packages except HOPSPACK), the algorithm name then contains an underscore, followed by the name of the specific algorithm.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Selecting an algorithm</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
C++</h2>
<p>There are three ways to select an algorithm: from within your driver code by specifying the enumerated constant or string, or by loading in the string from a file. From C++, the first two approaches are provided by <a class="el" href="classmango_1_1Problem.html#a4c942b51660b984659d01955b4b3a90e" title="Sets the optimization algorithm.">mango::Problem::set_algorithm()</a>, while the file-based approach is provided by <a class="el" href="classmango_1_1Problem.html#af9f6439b8b2134ec1461f35746092a72" title="Reads in the number of worker groups and algorithm from a file.">mango::Problem::read_input_file()</a>. For instance after creating a problem instance</p>
<div class="fragment"><div class="line"><a class="code" href="classmango_1_1Problem.html">mango::Problem</a> my_problem(N_parameters, state_vector, &amp;objective_function, argc, argv);</div>
</div><!-- fragment --><p>we could call</p>
<div class="fragment"><div class="line">my_problem.set_algorithm(<a class="code" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8eda4392b2e8349e6dd0511ae9819d469f6a">mango::GSL_BFGS</a>);</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">my_problem.set_algorithm(<span class="stringliteral">&quot;gsl_bfgs&quot;</span>);</div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line">my_problem.read_input_file(<span class="stringliteral">&quot;my_input_file.dat&quot;</span>);</div>
</div><!-- fragment --><p>In the last case, the input file should consist of 2 lines. The first line is an integer giving the number of worker groups, while the second line contains the string representation of the algorithm name (e.g. <code>nlopt_ln_neldermead</code>).</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Fortran</h2>
<p>When calling MANGO from fortran, after creating an optimization problem object with</p>
<div class="fragment"><div class="line"><span class="keywordtype">type</span>(mango_problem) :: my_problem</div>
<div class="line"> </div>
<div class="line"><span class="keyword">call </span><a class="code" href="interface_8cpp.html#a29ce2b6aba6508663cb162849e760617">mango_problem_create</a>(my_problem,n_parameters,state_vector,objective_function)</div>
</div><!-- fragment --><p>the corresponding subroutine calls to select the algorithm are</p>
<div class="fragment"><div class="line"><span class="comment">call mango_set_algorithm(my_problem,MANGO_GSL_BFGS)</span></div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line"><span class="comment">call mango_set_algorithm_from_string(my_problem,&quot;mango_gsl_bfgs&quot;)</span></div>
</div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line"><span class="comment">call mango_read_input_file(my_problem,&quot;my_input_file.dat&quot;)</span></div>
</div><!-- fragment --><p>We now discuss the algorithms provided by each package.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
GSL (Gnu Scientific Library)</h1>
<p>The <a href="https://www.gnu.org/software/gsl/doc/html/index.html">Gnu Scientific Library</a> contains several serial (non-parallelized) algorithms for general and least-squares optimization. GSL is usually available on HPC systems. It can also be installed on personal computers using package manager systems like macports or <code>apt-get</code>. To use GSL algorithms, MANGO must be built with <code>MANGO_GSL_AVAILABLE=T</code> set in the makefile.</p>
<p>For general optimization problem, MANGO provides four GSL algorithms, which are discussed in detail <a href="https://www.gnu.org/software/gsl/doc/html/multimin.html#">here in the GSL manual</a>. The option <code>gsl_nm</code> is the Nelder-Mead simplex algorithm, specifically the <code>gsl_multimin_fminimizer_nmsimplex2</code> version discussed in the GSL manual. The option <code>gsl_bfgs</code> is the version of BFGS called <code>gsl_multimin_fdfminimizer_vector_bfgs2</code> in the GSL manual. The options <code>gsl_conjugate_fr</code> and <code>gsl_conjugate_pr</code> give the Fletcher-Reeves and Polak-Ribiere conjugate gradient algorithms respectively. The steepest-descent algorithm discussed in the GSL manual is not supported in MANGO. Note that none of these GSL algorithms support bound constraints.</p>
<p>For least-squares problems, MANGO provides four GSL algorithms, which are discussed in detail <a href="https://www.gnu.org/software/gsl/doc/html/nls.html#solving-the-trust-region-subproblem-trs">here in the GSL manual</a>: <code>gsl_lm</code> (Levenberg-Marquardt), <code>gsl_dogleg</code> (Powell's dogleg method), <code>gsl_ddogleg</code> (double dogleg), and <code>gsl_subspace2d</code> (two-dimensional subspace). Note that none of these GSL least-squares algorithms support bound constraints, and all require <code>N_terms &gt;= N_parameters</code>. The "Levenberg-Marquardt with Geodesic Acceleration" and "Steihaug-Toint Conjugate Gradient" algorithms, discussed in the GSL manual, are not presently supported in MANGO.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
NLOpt</h1>
<p><a href="https://nlopt.readthedocs.io/en/latest/">NLOpt</a> is a library with many serial algorithms for general optimization. It has no algorithms specific to least-squares problems. NLOpt is not commonly found on HPC systems. It can be downloaded and built by changing to the <code>mango/external_packages</code> directory and running </p><pre class="fragment"> &gt; install_nlopt
</pre><p>To use NLOpt algorithms, MANGO must be built with <code>MANGO_NLOPT_AVAILABLE=T</code> set in the makefile.</p>
<p>So many algorithms are available in NLOpt that they will not be listed here; consult <a class="el" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8ed" title="A list of the algorithms that MANGO can potentially use.">mango::algorithm_type</a> or <a href="algorithms_8dat_source.html">algorithms.dat</a> for the complete list. A detailed explanation of each algorithm can be found <a href="https://nlopt.readthedocs.io/en/latest/NLopt_Algorithms/">here in the NLOpt manual</a>.</p>
<p>The MANGO name for each NLOpt algorithm is identical to the corresponding name in NLOpt; e.g. the algorithm named <code>NLOPT_LN_NELDERMEAD</code> in NLOpt is called <a class="el" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8edacaa7d0bafb98e9d70dbe3c07c6dcfe1d">mango::NLOPT_LN_NELDERMEAD</a> and <code>nlopt_ln_neldermead</code> in MANGO. Each NLOpt algorithm name begins with <code>nlopt_</code> followed by <code>gn_</code>, <code>ln_</code>, or <code>ld_</code>. The letter <code>g</code> vs <code>l</code> indicates a global vs local algorithm. The letter <code>n</code> vs <code>d</code> indicates a derivative-free vs derivative-based algorithm respectively. So, for instance, <code>nlopt_gn_direct</code> is a global derivative-free algorithm, <code>nlopt_ln_praxis</code> is a local derivative-free algorithm, and <code>nlopt_ld_lbfgs</code> is a local derivative-based algorithm. All of the global algorithms require that bound constraints be set.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
PETSc / TAO</h1>
<p><a href="https://www.mcs.anl.gov/petsc/">PETSc</a> is a large library for scientific computing, and it includes the optimization library TAO. PETSc is usually available on HPC systems. It can also be installed on personal computers using package manager systems like macports, or following the instructions <a href="https://www.mcs.anl.gov/petsc/documentation/installation.html">here</a>. To use PETSc/TAO algorithms, MANGO must be built with <code>MANGO_PETSC_AVAILABLE=T</code> set in the makefile.</p>
<p>MANGO presently supports three optimization algorithms from TAO. <code>petsc_nm</code> is the Nelder-Mead simplex algorithm for local derivative-free general optimization problems. <code>petsc_pounders</code> is the POUNDERS algorithm for least-squares derivative-free minimization. <code>petsc_brgn</code> is the "Bound-constrained regularized Gauss-Newton" algorithm for least-squares derivative-based minimization. Note that <code>petsc_brgn</code> is available only for PETSc versions 3.11 and higher. For more details of the algorithms, see the <a href="https://www.mcs.anl.gov/petsc/petsc-current/docs/tao_manual.pdf">TAO manual here</a> and the <a href="https://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/Tao/index.html">TAO API reference</a>.</p>
<p>The least-squares algorithms <code>petsc_pounders</code> and <code>petsc_brgn</code> are the only least-squares algorithms in MANGO that support bound constraints. These two algorithms do not require <code>N_terms &gt;= N_parameters</code>, in contrast to the GSL least-squares algorithms.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
HOPSPACK</h1>
<p><a href="https://dakota.sandia.gov/packages/hopspack">HOPSPACK</a> is a library for parallelized derivative-free general optimization. HOPSPACK is not commonly available on HPC systems. It can be downloaded by changing to the <code>mango/external_packages</code> directory and running </p><pre class="fragment"> &gt; install_hopspack
</pre><p>This command will not actually build the library; rather it is compiled at the same time as MANGO, since MANGO needs to modify several of the HOPSPACK source files. To use HOPSPACK, MANGO must be built with <code>MANGO_HOPSPACK_AVAILABLE=T</code> set in the makefile.</p>
<p>The HOPSPACK package contains only a single algorithm, so there is no underscore in the integer or string name for this algorithm in MANGO (<a class="el" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8eda3ccab8f190687dd2983fd240350376ec">mango::HOPSPACK</a> and <code>"mango_hopspack"</code> respectively). This algorithm is unique in that it supports concurrent (i.e. parallel) evaluations of the objective function even though it does not use finite-difference derivatives. HOPSPACK does not require bound constraints, but it performs best when accurate bound constraints are supplied.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Algorithms provided directly by MANGO</h1>
<p>Presently, MANGO provides just one of its own algorithms, with integer <a class="el" href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8edadfe4713f2c250ad11642ef0495586d0d">mango::MANGO_LEVENBERG_MARQUARDT</a> and string name <code>"mango_levenberg_marquardt"</code>. This is a derivative-based algorithm for local least-squares minimization. MANGO's implementation of the Levenberg-Marquardt algorithm has several advantages compared to <code>gsl_lm</code>. First, MANGO's version uses concurrent (i.e. parallel) evaluation of the residuals over several values of the parameter \( \lambda \), whereas <code>gsl_lm</code> uses a serial search in \( \lambda \), making <code>gsl_lm</code> quite load-imbalanced. Second, <code>mango_levenberg_marquardt</code> does not require <code>N_terms &gt;= N_parameters</code>, unlike <code>gsl_lm</code>.</p>
<p>To use <code>mango_levenberg_marquardt</code>, you must have the <a href="http://eigen.tuxfamily.org">Eigen library</a>, which is available on many HPC systems. Eigen can also be downloaded by changing to the <code>mango/external_packages</code> directory and running </p><pre class="fragment"> &gt; install_eigen
</pre><p>This command will not do any compiling or linking, since Eigen is a header-only library. To use <code>mango_levenberg_marquardt</code>, MANGO must be built with <code>MANGO_EIGEN_AVAILABLE=T</code> set in the makefile. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="ainterface_8cpp_html_a29ce2b6aba6508663cb162849e760617"><div class="ttname"><a href="interface_8cpp.html#a29ce2b6aba6508663cb162849e760617">mango_problem_create</a></div><div class="ttdeci">mango::Problem * mango_problem_create(int *N_parameters, double *state_vector, mango::objective_function_type objective_function)</div><div class="ttdef"><b>Definition:</b> <a href="interface_8cpp_source.html#l00043">interface.cpp:43</a></div></div>
<div class="ttc" id="anamespacemango_html_a875af5ff075fa2a1af4f8b2964afd8eda4392b2e8349e6dd0511ae9819d469f6a"><div class="ttname"><a href="namespacemango.html#a875af5ff075fa2a1af4f8b2964afd8eda4392b2e8349e6dd0511ae9819d469f6a">mango::GSL_BFGS</a></div><div class="ttdeci">@ GSL_BFGS</div><div class="ttdef"><b>Definition:</b> <a href="mango_8hpp_source.html#l00114">mango.hpp:114</a></div></div>
<div class="ttc" id="aclassmango_1_1Problem_html"><div class="ttname"><a href="classmango_1_1Problem.html">mango::Problem</a></div><div class="ttdef"><b>Definition:</b> <a href="mango_8hpp_source.html#l00442">mango.hpp:442</a></div></div>
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
