<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MANGO: The Algorithm Database</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('algorithmDatabase.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">The Algorithm Database </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The master database of all the available optimization algorithms in MANGO is maintained in the file <a href="algorithms_8dat_source.html">algorithms.dat</a>. In the same directory is a python script <a href="update__algorithms_source.html">update_algorithms</a>. When this script is run, several sections of MANGO's C++ source and python testing scripts are updated based on the data in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code>. In this way, all parts of MANGO's source and testing system are guaranteed to be consistent with respect to the available optimization algorithms and their properties. For more information about the available algorithms and how to choose the algorithm, see <a class="el" href="algorithms.html">Available Algorithms</a>.</p>
<p>In the <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code> file, each entry contains the name of the algorithm, the package it comes from (e.g. PETSc, GSL, etc), and various properties of the algorithm, such as whether it applies to least-squares problems vs general problems, whether it uses derivatives, etc. Blank lines are ignored, as are any lines beginning with <code>#</code>. The algorithm names that users select (e.g. <code>petsc_pounders</code> or <code>gsl_nm</code>) are formed by concatenating the package name with an underscore and then the short algorithm name listed in the <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code> database. Packages are discussed in <a class="el" href="algorithms.html">Available Algorithms</a>. For algorithms implemented directly in MANGO itself, such as the parallelized Levenberg-Marquardt algorithm, the package listed in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code> is <code>mango</code>. For packages such as HOPSPACK that include only a single algorithm, the short algorithm name in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code> can be blank, in which case the long algorithm name is just the package name.</p>
<p>The <code>parallel</code> entry in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code> indicates whether an algorithm can support concurrent evaluations of the objective function. Algorithms for which <code>uses_derivatives</code> is <code>T</code> always are parallel in this sense, as finite difference evaluations of derivatives use concurrent function evaluations. Algorithms that do not use derivatives can still be parallel; an example is HOPSPACK.</p>
<p>The <code>deterministic</code> entry in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code> indicates whether a given algorithm, for a given objective function and initial condition, always results in the same sequence of objective function evaluations. An algorithm is not deterministic if it employs random numbers (as in <code>NLOPT_LN_PRAXIS</code>) or if results depend on the order in which different MPI processes complete their work (as in <code>HOPSPACK</code>). Whether or not an algorithm is deterministic matters only for regression testing: nondeterministic algorithms are not expected to give results that exactly match reference values. Note that MANGO's finite difference derivative calculations are deterministic.</p>
<p>Several sections of MANGO's source code are written by <a href="update__algorithms_source.html">update_algorithms</a>. In <code><a class="el" href="mango_8hpp.html">mango.hpp</a></code>, the enum <code>algorithm_type</code> and the <code>algorithms</code> array are populated. Here, and everywhere that <code>update_algorithms</code> operates, the sections of code to be written are marked up, e.g. with <code>// &lt;database&gt;</code> ... <code>// &lt;/database&gt;</code>. The code within these markup regions should not be edited directly, since it will be over-written the next time <code>update_algorithms</code> is run.</p>
<p>Instructions for adding algorithms to the database are given below. Note that any time a new algorithm is added, you can add the algorithm to the regression testing system with the following two steps. First, add the new algorithm name to <code>examples/input/test_parameters.&lt;examplename&gt;</code> for any examples that are appropriate. Second, add a line for the new algorithm to the file <code>examples/output/short_summary.&lt;examplename&gt;.reference</code>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Adding an algorithm implemented directly in MANGO</h1>
<p>To add an optimization algorithm that is implemented directly in MANGO itself, first add a line for this algorithm in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code>. Then run <code>update_algorithms</code>. Doing so will automatically generate corresponding lines in either <code><a class="el" href="optimize__mango_8cpp.html">src/api/optimize_mango.cpp</a></code> or <code><a class="el" href="optimize__least__squares__mango_8cpp.html">src/api/optimize_least_squares_mango.cpp</a></code>, depending on whether the algorithm is for least-squares problems or general problems. In particular, MANGO will now include a C++ header file, with the same name as the algorithm, all lowercase except that the first letter must be capitalized. For instance <code><a class="el" href="Levenberg__marquardt_8hpp.html">Levenberg_marquardt.hpp</a></code> or <code><a class="el" href="Imfil_8hpp.html">Imfil.hpp</a></code>. This header file should be located in <code>src/algorithms</code>. See <code><a class="el" href="Levenberg__marquardt_8hpp.html">Levenberg_marquardt.hpp</a></code> and <code><a class="el" href="Imfil_8hpp.html">Imfil.hpp</a></code> for examples. These header files should declare a subclass of <a class="el" href="classmango_1_1Algorithm.html">mango::Algorithm</a> or <a class="el" href="classmango_1_1LeastSquaresAlgorithm.html">mango::LeastSquaresAlgorithm</a>, depending on whether the algorithm is for least-squares problems or general problems. The name of the subclass must be the same as the algorithm name, all lowercase except that the first letter should be capitalized. You can then implement the algorithm in <code>src/algorithms/&lt;Algorithmname&gt;.cpp</code>. Be sure to write unit tests for the algorithm in <code>src/algorithms/tests/</code>!</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Adding an algorithm from an outside package that is already connected to MANGO</h1>
<p>For packages such as PETSc and NLOpt that are already known by MANGO, if a new algorithm becomes supported by the package, only a few steps are needed to add the new algorithm to MANGO. First, add a line for the algorithm in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code>. Then run <code>update_algorithms</code>. Doing so will add the name of the new algorithm to the list of available algorithms in <code><a class="el" href="mango_8hpp.html">mango.hpp</a></code> and <a class="el" href="classmango_1_1Problem.html#a4c942b51660b984659d01955b4b3a90e" title="Sets the optimization algorithm.">mango::Problem::set_algorithm</a>. Now look at <code>src/api/optimize_&lt;packagename&gt;.cpp</code> or <code>src/api/optimize_least_squares_&lt;packagename&gt;.cpp</code>, depending on whether the algorithm is for least-squares problems or general problems. Any details specific to the package and the algorithm should go in this file.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Adding a new package</h1>
<p>To add a new algorithm from a new package that was not previously known by MANGO, you must carry out the following steps. First, add a line for the algorithm in <code><a class="el" href="algorithms_8dat.html">algorithms.dat</a></code>. Then run <code>update_algorithms</code>. Doing so will add several lines to <a class="el" href="set__package_8cpp.html">src/api/set_package.cpp</a> corresponding to the new package. In particular, MANGO will expect a new header file <code>Package_&lt;packagename&gt;.hpp</code> to exist, and you must create this file in <code>src/api/</code>. This file must declare a subclass of <a class="el" href="classmango_1_1Package.html">mango::Package</a> with the name <code>mango::Package_&lt;packagename&gt;</code>. This subclass must include concrete implementations of the abstract subroutines <a class="el" href="classmango_1_1Package.html#a4124e287a75f84301cd4f69b47aa9e37">mango::Package::optimize</a> and <a class="el" href="classmango_1_1Package.html#aa06ec9abdeb33945a78e09ed88658f6f">mango::Package::optimize_least_squares</a>. These subroutines can be implemented in files <code>src/api/optimize_&lt;packagename&gt;.cpp</code> and/or <code>src/api/optimize_least_squares_&lt;packagename&gt;.cpp</code>, which you are responsible for creating. Any package-specific implementation details can go in these files. You will also need to extend MANGO's build system to link to the new package. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
